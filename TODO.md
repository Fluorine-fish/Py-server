帧率优化方案快照
核心优化策略
自适应分辨率控制

根据当前帧率动态调整处理分辨率和流分辨率
设置多个分辨率级别，从高到低自动切换
当帧率低于阈值时降低分辨率，高于阈值时提高分辨率
摄像头优化

使用MJPG解码器提高摄像头捕获效率
调整摄像头缓冲区大小减少延迟
使用grabbing和retrieving分离方式提高读取效率
图像处理优化

降低处理分辨率减轻计算负担
在帧率低下时降低JPEG压缩质量
优化图像处理流程，减少不必要的复制和转换
前端优化

添加用户控制界面允许手动调整分辨率和质量
在前端显示当前帧率状态
实现自适应/手动模式切换
参数配置
``` python
# 处理分辨率级别
RESOLUTION_LEVELS = [
    (640, 480),   # 高分辨率
    (480, 360),   # 中分辨率
    (320, 240),   # 低分辨率
    (240, 180)    # 极低分辨率
]

# 流分辨率级别
STREAM_RESOLUTION_LEVELS = [
    (800, 600),   # 高分辨率
    (640, 480),   # 中分辨率
    (480, 360),   # 低分辨率
    (320, 240)    # 极低分辨率
]

# 帧率阈值
TARGET_FPS = 25.0  # 目标帧率
FPS_THRESHOLD_LOW = 15.0  # 低帧率阈值，低于此值降低分辨率
FPS_THRESHOLD_HIGH = 28.0  # 高帧率阈值，高于此值可以尝试提高分辨率
RESOLUTION_ADJUST_INTERVAL = 5.0  # 分辨率调整间隔（秒）
```
主要修改的文件
posture_module.py

添加 FPSCounter 类计算帧率
实现自适应分辨率调整
优化摄像头初始化和帧处理逻辑
video_stream_module.py

添加帧率计算功能
实现流分辨率动态调整
优化JPEG压缩质量控制
routes.py

添加帧率信息API
添加分辨率调整控制API
完善错误处理
前端HTML/JS

添加分辨率控制界面
显示实时帧率
支持JPEG质量调整
新增API端点
/get_fps_info - 获取各类帧率信息
/set_resolution_mode - 设置分辨率调整模式
实现思路
首先在捕获和处理阶段通过降低分辨率提高性能
使用更高效的摄像头配置参数提升原始帧率
在处理困难的低帧率情况下继续降低分辨率和质量
提供用户手动调整能力，以便在不同场景下优化
这套系统能够自动适应不同的设备性能和网络环境，在保持画面质量的同时尽可能提高帧率，特别是当你提到处理器占用率较低但帧率只有10FPS时，这很可能是由于摄像头配置或处理分辨率过高造成的瓶颈。

现在你可以随时回到这个快照，继续完成帧率优化工作。你可能需要先检查一下你当前的 posture_module.py 和 video_stream_module.py 文件的具体实现，然后根据上述方案进行修改。